<!DOCTYPE html><html><head><title>SMS API Node JS Tutorial- RingCentral Developer Tutorials</title><style>body, html {
  height:100%;
  width:100%;
  padding:0;
  margin:0;
  overflow:hidden;
  background-color:#ddd;
}
.wrapper {
  height:100%;
  width:100%;
}</style><link rel="shortcut icon" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" sizes="72x72" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" sizes="114x114" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/jquery-ui@1.12.1/themes/base/all.css"><link rel="stylesheet" href="viewsaurus.css"></head><body><div class="wrapper"><div class="dpw-header-container"><div class="dpw-header center-section"><div class="logo"><a href="https://developers.ringcentral.com" class="logo-link"></a></div><div class="nav-top-menus"></div><div class="dpw-login-section"><a href="https://developer.ringcentral.com/login.html#/">Sign in | Sign up</a></div></div></div><div id="viewsaurus" data-title="SMS API Node JS Tutorial"><div class="saurus-panes"><div class="saurus-panes-header"><a href="https://ringcentral.github.io/tutorials/" class="saurus-back-to-tutorials">Tutorials</a><span>&gt;</span><span>SMS API Node JS Tutorial</span></div><div class="saurus-prose"><div class="saurus-nav-buttons"><div class="saurus-nav-button nav-overview"><div class="saurus-nav-button-inner"><i class="fa fa-fw icon-menu"></i></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-previous"><div class="saurus-nav-button-inner"><a href=""> <i class="fa fa-fw fa-play fa-rotate-180"></i></a></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-next clickable"><div class="saurus-nav-button-inner"><a href="#1"> <i class="fa fa-fw fa-play"></i></a></div></div><div class="saurus-next-title"><span class="next-title-inner"></span></div></div><div class="saurus-progress-bar"></div><div class="saurus-start"><p>A tutorial to teach users to use RingCentral SMS API. Click the &quot;Start&quot; button below to start the tutorial.</p><a href="#0">Start Tutorial</a></div><div class="saurus-content"><div data-title="SMS Application Walkthrough" class="chapter"><div data-title="Welcome!" data-file="../README.MD" data-highlight="3-10" class="step"><h2>Welcome to SMS Application Walk-through</h2><p>This walk-through of an SMS application will show you how to go about building a fully functional SMS application. In this walk-through you will learn:</p><ul><li>How to send an SMS message.</li><li>How to send an MMS message</li><li>How to track the delivery state of a message.</li><li>How to modify the message's read status.</li><li>How to delete a message.</li><li>How to receive and reply to an SMS message.</li></ul><h3>Other Languages</h3><p>This walk-through is also available in the following languages:</p><ul><li><a href="https://ringcentral-tutorials.github.io/sms-api-php-demo/">PHP</a></li><li><a href="https://ringcentral-tutorials.github.io/sms-api-csharo-demo/">C#</a></li><li><a href="https://ringcentral-tutorials.github.io/sms-api-python-demo/">Python</a></li></ul></div><div data-title="Setup Your Project" data-file="../.env.sample" class="step"><h2 id="clone-and-setup-the-project">Clone and Setup the project</h2>
<pre><code>$ git clone https://github.com/ringcentral-tutorials/sms-api-nodejs-demo
$ cd sms-api-nodejs-demo
$ cp .env.sample .env
</code></pre><p>Specify your app client id and client secret as well as the account login credentials to the constant defined in the .env file.</p>
</div><div data-title="Sending an SMS" data-file="../send-sms.js" class="step"><h2 id="sending-an-sms-message">Sending an SMS message</h2>
<p>Let&#39;s create a file named <code>send-sms.js</code> as shown on the right-hand side pane.</p>
<p>It is very convenient to access RingCentral platform using the <a href="https://github.com/ringcentral/ringcentral-js">RingCentral JS SDK</a>.</p>
<p>First, we load and create an instance <code>rcsdk</code> of the RingCentral SDK, passing along the server, client Id and client secret loaded from the .env file.</p>
<p>Next, we get the <code>platform</code> object from the <code>rcsdk.platform()</code></p>
<p>Then, we call the <code>platform.login()</code> function to authenticate a user. In this step, we pass the username and password and optionally the extension number.</p>
<p>After we&#39;ve logged in successfully, we define the <code>params</code> object and specify the <code>from</code>, <code>to</code> and the <code>text</code> message.</p>
<p>Finally, we call the <code>platform.post(&#39;/account/~/extension/~/sms&#39;, params)</code> method to send the message.</p>
<p>This code will work right out of the box. So let&#39;s try it out. Go to the Terminal window and run <code>node send-sms.js</code>.</p>
<p>You should see the message delivery status output to the screen, and shortly an SMS will arrive on the recipient&#39;s phone.</p>
<p>You have just successfully sent an SMS programmatically from your sandbox to a recipient.</p>
<h3 id="important">Important</h3>
<p>Bear in mind that you can only send SMS messages from a phone number which belongs to the user who is being authenticated to use the app.</p>
<p>Pay attention to the <code>params.to</code> which is an array. This means that you can specify multiple recipients to send a group message.</p>
</div><div data-title="Sending an MMS" data-file="../send-mms.js" data-highlight="20-40" class="step"><h2 id="send-an-mms-message">Send an MMS message</h2>
<p>Let&#39;s create a file named <code>send-mms.js</code>.</p>
<p>To send an MMS message, we use the <code>FormData</code> object to add content attachments to the message.</p>
<p>Similar to the previous step, we need to login before we move on the send a message.</p>
<p>First, we define the <code>body</code> object, specify the <code>from</code>, the <code>to</code> and the <code>text</code> parameters. Then we append the body to the <code>FormData</code>.</p>
<p>Then, we load the image and append the image attachment as shown on the right-hand site pane.</p>
<p>Finally, we call the <code>platform.post(&#39;/account/~/extension/~/sms&#39;, formData)</code> method to send the message.</p>
<p>Let&#39;s try it out. Go to the Terminal window and run <code>node send-mms.js</code>.</p>
<p>You should see the message delivery status output to the screen, and shortly an MMS will arrive on the recipient&#39;s phone.</p>
<h3 id="ringcentral-supported-mms-content-types">RingCentral supported MMS content types</h3>
<ul>
<li>Images: jpg/jpeg, png, gif, bmp, tif/tiff, svg</li>
<li>Videos: 3gp, mp4, mpeg, flv, wmv, mov</li>
<li>Audio: mp3</li>
<li>Files: vcf/vcard, zip, rtf, html</li>
</ul>
<h3 id="attachment-size-limit">Attachment size limit</h3>
<p>The maximum size for MMS is carrier-dependent and normally around 1.2MB to 1.4MB.</p>
<p>You can send multiple attachments in a single MMS message. But the total size of attachments should not exceed the size limit above!</p>
</div><div data-title="Track the delivery" data-file="../send-mms.js" data-highlight="37,45-57" class="step"><h2 id="track-the-delivery-status-of-a-message">Track the delivery status of a message</h2>
<p>It takes some time for the system to send and deliver a message to a recipient. Delivering a message may fail due to networks conditions or the availability of the recipient&#39;s phone number as well. The delivery status of a particular message can be tracked using the <strong>message-store</strong> endpoint.</p>
<p>Let&#39;s implement the <code>track_status()</code> function.</p>
<p>After sending a message, we&#39;ll receive the response containing information about the sent message which includes the message <code>id</code> and the <code>messageStatus</code>. We&#39;ll use the <code>messageId</code> to identify the message we want to track the delivery status.</p>
<p>Inside the <code>track_status(messageId, messageStatus)</code> function, we check the <code>mesasgeStatus</code> value. If it is equal to &quot;Queued&quot;, we cause a second delay then call the <code>platform.get(...)</code> method to read and print out the latest delivery status of the message.</p>
<p>We call the <code>track_status()</code> function repeatedly until we get the <code>mesasgeStatus</code> with other value than &quot;Queued&quot;.</p>
<p>Let&#39;s try it out. Uncomment the line <code>//track_status(jsonObj.id, jsonObj.messageStatus)</code> then run the <code>send_mms.js</code> again.</p>
</div><div data-title="Change the message read status" data-file="../retrieve-modify.js" data-highlight="19-37" class="step"><h3 id="change-the-message-read-status">Change the message read status</h3>
<p>Every message has the <code>readStatus</code> as &quot;Read&quot; or &quot;Unread&quot;. We can retrieve a message metadata from the message store and change the <code>readStatus</code> as we want.</p>
<p>Let&#39;s create a file named <code>retrieve-modify.js</code>.</p>
<p>Similar to the previous step, we use the SDK to login with the same user before we move on.</p>
<p>To read the metadata of recent messages from the user&#39;s message store, we define the <code>params</code> object and set the <code>readStatus</code> to &quot;Unread&quot; to retrieve only unread messages.</p>
<p>Then, we call the <code>platform.get(&#39;/account/~/extension/~/message-store&#39;, params)</code> to read the message store.</p>
<p>We parse the response to get an array of records. We iterate thru the <code>records</code> array, read the message id of each message, and use the id to create an endpoint to access that message.</p>
<p>To change the message read status, we set <code>readStatus</code> to &quot;Read&quot;, then call the <code>platform.put(&quot;/account/~/extension/~/message-store/${record.id}&quot;</code> to change the <code>readStatus</code> of that message.</p>
<p>Let&#39;s try it out. Go to the Terminal window and run <code>node retrieve-modify.js</code>.</p>
<h3 id="specify-other-request-parameters">Specify other request parameters</h3>
<p>You can set other request parameters such as the <code>dateFrom</code> and <code>dateTo</code> to retrieve messages created within the specified date and time period. The default date and time period is the current time minus 24 hours.</p>
</div><div data-title="Delete a message" data-file="../retrieve-delete.js" data-highlight="19-35" class="step"><h3 id="delete-a-message">Delete a message</h3>
<p>Let&#39;s create a file named <code>retrieve-delete.js</code>.</p>
<p>Similar to the previous step, we retrieve recent messages using the <code>readStatus</code> filter but this time, we read those messages which have the <code>readStatus</code> as &quot;Read&quot;.</p>
<p>Then we iterate thru the <code>records</code> array, read the message id of each message, and use the id to create an endpoint to access that message, and call the <code>platform.delete(&#39;/account/~/extension/~/message-store/${record.id}&#39;)</code> to delete the message.</p>
<p>Let&#39;s try it out. Go to the Terminal window and run <code>node retrieve-delete.js</code>.</p>
<p>If you want to delete all the messages from the <code>records</code> array, comment out the <strong>break</strong> line.</p>
</div></div><div data-title="Receive - Reply to SMS messages" class="chapter"><div data-title="Receiving SMS messages" data-file="../receive-reply.js" data-highlight="19-45" class="step"><p>In this step, you will learn how to listen to incoming SMS messages and incoming calls, then reply with an SMS message to the sender of that incoming message or incoming call.</p>
<h3 id="listen-to-incoming-sms-messages-and-incoming-calls">Listen to incoming SMS messages and incoming calls</h3>
<p>Let&#39;s create a file named <code>receive-reply.js</code>.</p>
<p>Similar to the previous step, we use the SDK to login with the same user before we move on.</p>
<p>First, we call the <code>rcsdk.createSubscription()</code> method to get the <code>subscription</code> object.</p>
<p>Then, we define an <code>eventFilters</code> array and add the following filters to the array:</p>
<ul>
<li>&quot;/account/~/extension/~/message-store/instant?type=SMS&quot;: for receiving incoming SMS notifications.</li>
<li>&quot;/account/~/extension/~/voicemail&quot;: for receiving new voicemail notifications.</li>
</ul>
<p>As you can see, we can specify multiple event notifications in a single subscription to get notified for different types of events without the need of creating multiple subscriptions.</p>
<p>We use the <code>subscription</code> object to set the <code>eventFilters</code> and register for the event notifications as shown on the right-hand side pane.</p>
<p>Next, we implement the <code>subscription.on(subscription.events.notification, ...)</code> function. This is a callback function which will be called every time we receive a notification of the event we subscribed for.</p>
<p>As we registered for multiple event notifications, we need to detect which event notification was triggered before we take an action on the notification.</p>
<p>We simply check the <code>msg.event</code> value to see if it contains the name of the event type we&#39;ve registered for.</p>
<p>In this tutorial, if it is the &quot;/message-store/instant&quot; or the &quot;/voicemail&quot;, we parse the notification payload and create a reply message as will be discussed in the next step.</p>
<h3 id="handle-other-subscription-situations">Handle other subscription situations</h3>
<p>You can implement the <code>subscription.on(...)</code> function with any other event types listed below to handle different subscription situations.</p>
<pre><code>- subscription.events.removeSuccess
- subscription.events.removeError
- subscription.events.renewSuccess
- subscription.events.renewError
- subscription.events.subscribeSuccess
- subscription.events.subscribeError
- subscription.events.automaticRenewSuccess
- subscription.events.automaticRenewError
</code></pre><h3 id="subscription-limitations">Subscription limitations</h3>
<p>Each account can register up to maximum 20 subscriptions. Therefore, using multiple event notifications in a subscription, when possible, will help to to overcome the limitation.</p>
<p>Active subscriptions will expire. The <code>subscription</code> object created by the SDK will renew the subscription automatically on your behalf as long as your app is still logged in and the platform refresh token is still valid.</p>
<h3 id="pubnub-notification-alternative">PubNub Notification Alternative</h3>
<p>The subscription we created above uses <a href="https://www.pubnub.com/">PubNub</a>.</p>
<p>There is also a <a href="https://developers.ringcentral.com/guide/notifications/quick-start/webhook/nodejs">WebHook way to do subscription</a>. We won&#39;t dive into detail here. You can click the link to read more.</p>
</div><div data-title="Replying with a SMS message" data-file="../receive-reply.js" data-highlight="34-35,39-40,50-62" class="step"><h2 id="replying-with-an-sms-message">Replying with an SMS message</h2>
<p>When there is an incoming SMS message or a new voicemail, we will receive the notification via the <code>subscription.on</code> callback function. We parse the message body to get the sender&#39;s phone number, and we compose a message then call the <code>sendReplySMS()</code> function to send the message.</p>
<p>Then finally, we create a reply message and send it to the <code>senderNumber</code>.</p>
<p>Let&#39;s try it out. Go to the Terminal window and run <code>node receive-reply.js</code>.</p>
<h2 id="congratulations-">Congratulations!</h2>
<p>And that&#39;s it. You should have successfully build a number of the components of an SMS application.</p>
</div></div>
<div class="saurus-files" style="display:none;"><textarea class="saurus-file" data-file="../README.MD" data-mode="markdown">IyBTTVMgQXBwbGljYXRpb24gV2Fsay10aHJvdWdoCgpXZWxjb21lIHRvIHRoZSBTTVMgQXBwbGljYXRpb24gV2Fsay10aHJvdWdoIGFuZCB0b3VyIG9mIGEgZnVsbHkgZnVuY3Rpb25hbCBTTVMgYXBwbGljYXRpb24gcG93ZXJlZCBieSBSaW5nQ2VudHJhbC4gSW4gdGhpcyB3YWxrIHRocm91Z2ggeW91IHdpbGwgbGVhcm46CgotIEhvdyB0byBzZW5kIGFuIFNNUyBtZXNzYWdlCi0gSG93IHRvIHNlbmQgYW4gTU1TIG1lc3NhZ2UKLSBIb3cgdG8gdHJhY2sgZGVsaXZlcnkgc3RhdHVzIG9mIG1lc3NhZ2VzCi0gSG93IHRvIG1vZGlmeSB0aGUgbWVzc2FnZSdzIHJlYWQgc3RhdHVzLgotIEhvdyB0byBkZWxldGUgYSBtZXNzYWdlLgotIEhvdyB0byByZWNlaXZlIGFuZCByZXBseSB0byBTTVMgbWVzc2FnZXMKCiMjIyBDbG9uZSAtIFNldHVwIC0gUnVuIHRoZSBwcm9qZWN0CmBgYAokIGdpdCBjbG9uZSBodHRwczovL2dpdGh1Yi5jb20vcmluZ2NlbnRyYWwtdHV0b3JpYWxzL3Ntcy1hcGktbm9kZWpzLWRlbW8KJCBjZCBzbXMtYXBpLW5vZGVqcy1kZW1vCiQgbnBtIGluc3RhbGwgLS1zYXZlCmBgYAoKU3BlY2lmeSB5b3VyIGFwcCBjbGllbnQgaWQgYW5kIGNsaWVudCBzZWNyZXQgYXMgd2VsbCBhcyBhY2NvdW50IGxvZ2luIGNyZWRlbnRpYWxzIHRvIHRoZSBjb25zdGFudCBkZWZpbmVkIHdpdGhpbiB0aGUgYnJhY2tldHMgIjwgPiIuCgojIyMjIEhvdyB0byBzZW5kIFNNUwpgYGAKJCBub2RlIHNlbmQtc21zLmpzCmBgYAoKIyMjIyBIb3cgdG8gc2VuZCBNTVMKYGBgCiQgbm9kZSBzZW5kLW1tcy5qcwpgYGAKCiMjIyMgSG93IHRvIHRyYWNrIGRlbGl2ZXJ5IHN0YXR1cyBvZiBtZXNzYWdlcwpVbmNvbW1lbnQgdGhlIGZ1bmN0aW9uIGNhbGwgYmVsb3cgYW5kIHJ1biB0aGUgYXBwCmBgYAovL3RyYWNrX21tcygpOwokIG5vZGUgc2VuZC1tbXMuanMKYGBgCgojIyMjIEhvdyB0byByZXRyaWV2ZSBhbmQgbW9kaWZ5IG1lc3NhZ2UncyByZWFkIHN0YXR1cwpgYGAKJCBub2RlIHJldHJpZXZlLW1vZGlmeS5qcwpgYGAKIyMjIyBIb3cgdG8gZGVsZXRlIG1lc3NhZ2VzCgpgYGAKJCBub2RlIHJldHJpZXZlLWRlbGV0ZS5qcwpgYGAKCiMjIyMgSG93IHRvIHJlY2VpdmUgYW5kIHJlcGx5IHRvIFNNUyBtZXNzYWdlcwpgYGAKJCBub2RlIHJlY2VpdmUtcmVwbHkuanMKYGBgCgojIyBSaW5nQ2VudHJhbCBOb2RlIEpTIFNESwpUaGUgU0RLIGlzIGF2YWlsYWJsZSBhdCBodHRwczovL2dpdGh1Yi5jb20vcmluZ2NlbnRyYWwvcmluZ2NlbnRyYWwtanMK</textarea>
<textarea class="saurus-file" data-file="../.env.sample" data-mode="text">IyBFbnZpcm9ubWVudCBWYXJpYWJsZXMgZm9yIFJpbmdDZW50cmFsCgojIFRoZSBDbGllbnQgSUQgb2YgdGhlIGFwcApSSU5HQ0VOVFJBTF9DTElFTlRfSUQ9CgojIFRoZSBDbGllbnQgU2VjcmV0IG9mIHRoZSBhcHAKUklOR0NFTlRSQUxfQ0xJRU5UX1NFQ1JFVD0KCiMgVGhlIHBob25lIG51bWJlciB1c2VkIGJ5IHRoZSBkZXZlbG9wZXIgd2hlbiBsb2dnaW5nIGludG8gUmluZ0NlbnRyYWwuIFRoaXMgbnVtYmVyIHdpbGwgYmUKIyBkaWZmZXJlbnQgaW4gc2FuZGJveCBhbmQgcHJvZHVjdGlvbi4gVGhpcyBpcyBhbHNvIHRoZSBzZW5kZXIgb2YgdGhlIG1lc3NhZ2UuClJJTkdDRU5UUkFMX1VTRVJOQU1FPQoKIyBUaGUgZXh0ZW5zaW9uIHVzZWQgYnkgdGhlIGRldmVsb3BlciB3aGVuIGxvZ2dpbmcgaW50byBSaW5nQ2VudHJhbC4gVGhpcyBpcyBvbmx5IG5lY2Vzc2FyeSBpZgojIHRoZSB1c2VybmFtZS9zZW5kZXIgYWJvdmUgaXMgdGhlIGNvbXBhbnkgcGhvbmUgbnVtYmVyLgpSSU5HQ0VOVFJBTF9FWFRFTlNJT049CgojIFRoZSBwYXNzd29yZCB1c2VkIGJ5IHRoZSBkZXZlbG9wZXIgd2hlbiBsb2dnaW5nIGludG8gUmluZ0NlbnRyYWwKUklOR0NFTlRSQUxfUEFTU1dPUkQ9CgojIFRoZSBwaG9uZSBudW1iZXIgb2YgdGhlIHJlY2lwaWVudApSSU5HQ0VOVFJBTF9SRUNJUElFTlQ9CgojIFRoZSBiYXNlIFVSTCBmb3IgY2FsbCBBUEkgY2FsbHMgCiMgU2FuZGJveApSSU5HQ0VOVFJBTF9TRVJWRVJfVVJMPWh0dHBzOi8vcGxhdGZvcm0uZGV2dGVzdC5yaW5nY2VudHJhbC5jb20KIyBQcm9kdWN0aW9uCiNSSU5HQ0VOVFJBTF9TRVJWRVJfVVJMPWh0dHBzOi8vcGxhdGZvcm0ucmluZ2NlbnRyYWwuY29tCg==</textarea>
<textarea class="saurus-file" data-file="../send-sms.js" data-mode="javascript">Y29uc3QgU0RLID0gcmVxdWlyZSgncmluZ2NlbnRyYWwnKQpjb25zdCBkb3RlbnYgPSByZXF1aXJlKCdkb3RlbnYnKQoKZG90ZW52LmNvbmZpZygpCgpjb25zdCByY3NkayA9IG5ldyBTREsoewogIHNlcnZlcjogcHJvY2Vzcy5lbnYuUklOR0NFTlRSQUxfU0VSVkVSX1VSTCwKICBhcHBLZXk6IHByb2Nlc3MuZW52LlJJTkdDRU5UUkFMX0NMSUVOVF9JRCwKICBhcHBTZWNyZXQ6IHByb2Nlc3MuZW52LlJJTkdDRU5UUkFMX0NMSUVOVF9TRUNSRVQKfSkKCmNvbnN0IHBsYXRmb3JtID0gcmNzZGsucGxhdGZvcm0oKQoKcGxhdGZvcm0ubG9naW4oewogIHVzZXJuYW1lOiBwcm9jZXNzLmVudi5SSU5HQ0VOVFJBTF9VU0VSTkFNRSwKICBleHRlbnNpb246IHByb2Nlc3MuZW52LlJJTkdDRU5UUkFMX0VYVEVOU0lPTiwKICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuUklOR0NFTlRSQUxfUEFTU1dPUkQKfSkudGhlbihyZXNwb25zZSA9PiB7CiAgdmFyIHBhcmFtcyA9IHsKICAgIGZyb206IHsgcGhvbmVOdW1iZXI6IHByb2Nlc3MuZW52LlJJTkdDRU5UUkFMX1VTRVJOQU1FIH0sCiAgICB0bzogWwogICAgICB7IHBob25lTnVtYmVyOiBwcm9jZXNzLmVudi5SSU5HQ0VOVFJBTF9SRUNJUElFTlQgfQogICAgXSwKICAgIHRleHQ6ICdUaGlzIGlzIGEgdGVzdCBtZXNzYWdlIGZyb20gTm9kZSBKUycKICB9CiAgcGxhdGZvcm0ucG9zdCgnL2FjY291bnQvfi9leHRlbnNpb24vfi9zbXMnLCBwYXJhbXMpCiAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCdTTVMgc2VudDogJyArIHJlc3BvbnNlLmpzb24oKS5tZXNzYWdlU3RhdHVzKQogICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgIGNvbnNvbGUuZXJyb3IoZSkKICAgIH0pCn0pLmNhdGNoKGUgPT4gewogIGNvbnNvbGUuZXJyb3IoZSkKfSkK</textarea>
<textarea class="saurus-file" data-file="../send-mms.js" data-mode="javascript">Y29uc3QgU0RLID0gcmVxdWlyZSgncmluZ2NlbnRyYWwnKQpjb25zdCBkb3RlbnYgPSByZXF1aXJlKCdkb3RlbnYnKQpjb25zdCBGb3JtRGF0YSA9IHJlcXVpcmUoJ2Zvcm0tZGF0YScpCgpkb3RlbnYuY29uZmlnKCkKCmNvbnN0IHJjc2RrID0gbmV3IFNESyh7CiAgICBzZXJ2ZXI6IHByb2Nlc3MuZW52LlJJTkdDRU5UUkFMX1NFUlZFUl9VUkwsCiAgICBhcHBLZXk6IHByb2Nlc3MuZW52LlJJTkdDRU5UUkFMX0NMSUVOVF9JRCwKICAgIGFwcFNlY3JldDogcHJvY2Vzcy5lbnYuUklOR0NFTlRSQUxfQ0xJRU5UX1NFQ1JFVAp9KQoKY29uc3QgcGxhdGZvcm0gPSByY3Nkay5wbGF0Zm9ybSgpCgpwbGF0Zm9ybS5sb2dpbih7CiAgICB1c2VybmFtZTogcHJvY2Vzcy5lbnYuUklOR0NFTlRSQUxfVVNFUk5BTUUsCiAgICBleHRlbnNpb246IHByb2Nlc3MuZW52LlJJTkdDRU5UUkFMX0VYVEVOU0lPTiwKICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5SSU5HQ0VOVFJBTF9QQVNTV09SRAp9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCkKICAgIGNvbnN0IGJvZHkgPSB7CiAgICAgICAgZnJvbTogeyBwaG9uZU51bWJlcjogcHJvY2Vzcy5lbnYuUklOR0NFTlRSQUxfVVNFUk5BTUUgfSwKICAgICAgICB0bzogWwogICAgICAgICAgICB7IHBob25lTnVtYmVyOiBwcm9jZXNzLmVudi5SSU5HQ0VOVFJBTF9SRUNJUElFTlQgfQogICAgICAgIF0sCiAgICAgICAgdGV4dDogJ1RoaXMgaXMgYSB0ZXN0IE1NUyBmcm9tIE5vZGUgSlMnCiAgICB9CiAgICBmb3JtRGF0YS5hcHBlbmQoJ2JvZHknLCBCdWZmZXIuZnJvbSggSlNPTi5zdHJpbmdpZnkoYm9keSkgKSwgewogICAgICAgIGZpbGVuYW1lOiAnYm9keS5qc29uJywKICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICB9KQogICAgZm9ybURhdGEuYXBwZW5kKCdhdHRhY2htZW50JywgcmVxdWlyZSgnZnMnKS5jcmVhdGVSZWFkU3RyZWFtKCd0ZXN0LmpwZycpKQogICAgcGxhdGZvcm0ucG9zdCgnL2FjY291bnQvfi9leHRlbnNpb24vfi9zbXMnLCBmb3JtRGF0YSkKICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHZhciBqc29uT2JqID0gcmVzcG9uc2UuanNvbigpCiAgICAgICAgY29uc29sZS5sb2coJ01NUyBzZW50LiBNZXNzYWdlIHN0YXR1czogJyArIGpzb25PYmoubWVzc2FnZVN0YXR1cykKICAgICAgICAvL3RyYWNrX3N0YXR1cyhqc29uT2JqLmlkLCBqc29uT2JqLm1lc3NhZ2VTdGF0dXMpCiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcihlKQogICAgICB9KQp9KS5jYXRjaChlID0+IHsKICAgIGNvbnNvbGUuZXJyb3IoZSkKfSkKCmZ1bmN0aW9uIHRyYWNrX3N0YXR1cyhtZXNzYWdlSWQsIG1lc3NhZ2VTdGF0dXMpewogICAgaWYgKG1lc3NhZ2VTdGF0dXMgPT0gIlF1ZXVlZCIpewogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgcGxhdGZvcm0uZ2V0KGAvYWNjb3VudC9+L2V4dGVuc2lvbi9+L21lc3NhZ2Utc3RvcmUvJHttZXNzYWdlSWR9YCkKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgbWVzc2FnZVN0YXR1cyA9IHJlc3BvbnNlLmpzb24oKS5tZXNzYWdlU3RhdHVzCiAgICAgICAgICAgIHZhciBqc29uT2JqID0gcmVzcG9uc2UuanNvbigpCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJNZXNzYWdlIHN0YXR1czogIiArIGpzb25PYmoubWVzc2FnZVN0YXR1cykKICAgICAgICAgICAgdHJhY2tfc3RhdHVzKGpzb25PYmouaWQsIGpzb25PYmoubWVzc2FnZVN0YXR1cykKICAgICAgICAgIH0pCiAgICAgIH0sIDEwMDApCiAgICB9Cn0K</textarea>
<textarea class="saurus-file" data-file="../retrieve-modify.js" data-mode="javascript">Y29uc3QgU0RLID0gcmVxdWlyZSgncmluZ2NlbnRyYWwnKQpjb25zdCBkb3RlbnYgPSByZXF1aXJlKCdkb3RlbnYnKQoKZG90ZW52LmNvbmZpZygpCgpjb25zdCByY3NkayA9IG5ldyBTREsoewogIHNlcnZlcjogcHJvY2Vzcy5lbnYuUklOR0NFTlRSQUxfU0VSVkVSX1VSTCwKICBhcHBLZXk6IHByb2Nlc3MuZW52LlJJTkdDRU5UUkFMX0NMSUVOVF9JRCwKICBhcHBTZWNyZXQ6IHByb2Nlc3MuZW52LlJJTkdDRU5UUkFMX0NMSUVOVF9TRUNSRVQKfSkKCmNvbnN0IHBsYXRmb3JtID0gcmNzZGsucGxhdGZvcm0oKQoKcGxhdGZvcm0ubG9naW4oewogIHVzZXJuYW1lOiBwcm9jZXNzLmVudi5SSU5HQ0VOVFJBTF9VU0VSTkFNRSwKICBleHRlbnNpb246IHByb2Nlc3MuZW52LlJJTkdDRU5UUkFMX0VYVEVOU0lPTiwKICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuUklOR0NFTlRSQUxfUEFTU1dPUkQKfSkudGhlbihyZXNwb25zZSA9PiB7CiAgdmFyIHBhcmFtcyA9IHsKICAgIHJlYWRTdGF0dXM6ICdVbnJlYWQnCiAgfQogIHBsYXRmb3JtLmdldCgnL2FjY291bnQvfi9leHRlbnNpb24vfi9tZXNzYWdlLXN0b3JlJywgcGFyYW1zKQogICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICB2YXIgcmVjb3JkcyA9IHJlc3BvbnNlLmpzb24oKS5yZWNvcmRzCiAgICAgIGNvbnNvbGUubG9nKGBSZXRyaWV2aW5nIGEgbGlzdCBvZiAke3JlY29yZHMubGVuZ3RofSBtZXNzYWdlcy5gKQogICAgICBmb3IgKHZhciByZWNvcmQgb2YgcmVjb3JkcykgewogICAgICAgIHBsYXRmb3JtLnB1dChgL2FjY291bnQvfi9leHRlbnNpb24vfi9tZXNzYWdlLXN0b3JlLyR7cmVjb3JkLmlkfWAsIHsKICAgICAgICAgIHJlYWRTdGF0dXM6ICdSZWFkJwogICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgY29uc29sZS5sb2coYE1lc3NhZ2Ugc3RhdHVzIGhhcyBiZWVuIGNoYW5nZWQgdG8gJHtyZXNwb25zZS5qc29uKCkucmVhZFN0YXR1c31gKQogICAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcihlKQogICAgICAgIH0pCiAgICAgIH0KICAgIH0pLmNhdGNoKGUgPT4gewogICAgICBjb25zb2xlLmVycm9yKGUpCiAgICB9KQp9KS5jYXRjaChlID0+IHsKICBjb25zb2xlLmVycm9yKGUpCn0pCg==</textarea>
<textarea class="saurus-file" data-file="../retrieve-delete.js" data-mode="javascript">Y29uc3QgU0RLID0gcmVxdWlyZSgncmluZ2NlbnRyYWwnKQpjb25zdCBkb3RlbnYgPSByZXF1aXJlKCdkb3RlbnYnKQoKZG90ZW52LmNvbmZpZygpCgpjb25zdCByY3NkayA9IG5ldyBTREsoewogIHNlcnZlcjogcHJvY2Vzcy5lbnYuUklOR0NFTlRSQUxfU0VSVkVSX1VSTCwKICBhcHBLZXk6IHByb2Nlc3MuZW52LlJJTkdDRU5UUkFMX0NMSUVOVF9JRCwKICBhcHBTZWNyZXQ6IHByb2Nlc3MuZW52LlJJTkdDRU5UUkFMX0NMSUVOVF9TRUNSRVQKfSkKCmNvbnN0IHBsYXRmb3JtID0gcmNzZGsucGxhdGZvcm0oKQoKcGxhdGZvcm0ubG9naW4oewogIHVzZXJuYW1lOiBwcm9jZXNzLmVudi5SSU5HQ0VOVFJBTF9VU0VSTkFNRSwKICBleHRlbnNpb246IHByb2Nlc3MuZW52LlJJTkdDRU5UUkFMX0VYVEVOU0lPTiwKICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuUklOR0NFTlRSQUxfUEFTU1dPUkQKfSkudGhlbihyZXNwb25zZSA9PiB7CiAgcGxhdGZvcm0uZ2V0KCcvYWNjb3VudC9+L2V4dGVuc2lvbi9+L21lc3NhZ2Utc3RvcmUnLCB7CiAgICByZWFkU3RhdHVzOiAnUmVhZCcKICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgIHZhciByZWNvcmRzID0gcmVzcG9uc2UuanNvbigpLnJlY29yZHMKICAgIGNvbnNvbGUubG9nKGBSZXRyaWV2aW5nIGEgbGlzdCBvZiAke3JlY29yZHMubGVuZ3RofSBtZXNzYWdlcy5gKQogICAgZm9yICh2YXIgcmVjb3JkIG9mIHJlY29yZHMpIHsKICAgICAgcGxhdGZvcm0uZGVsZXRlKGAvYWNjb3VudC9+L2V4dGVuc2lvbi9+L21lc3NhZ2Utc3RvcmUvJHtyZWNvcmQuaWR9YCkKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhgTWVzc2FnZSAke3JlY29yZC5pZH0gaGFzIGJlZW4gZGVsZXRlZC5gKQogICAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcihlKQogICAgICAgIH0pCiAgICAgICAgYnJlYWsKICAgIH0KICB9KS5jYXRjaChlID0+IHsKICAgIGNvbnNvbGUuZXJyb3IoZSkKICB9KQp9KS5jYXRjaChlID0+IHsKICBjb25zb2xlLmVycm9yKGUpCn0pCg==</textarea>
<textarea class="saurus-file" data-file="../receive-reply.js" data-mode="javascript">Y29uc3QgU0RLID0gcmVxdWlyZSgncmluZ2NlbnRyYWwnKQpjb25zdCBkb3RlbnYgPSByZXF1aXJlKCdkb3RlbnYnKQoKZG90ZW52LmNvbmZpZygpCgpjb25zdCByY3NkayA9IG5ldyBTREsoewogIHNlcnZlcjogcHJvY2Vzcy5lbnYuUklOR0NFTlRSQUxfU0VSVkVSX1VSTCwKICBhcHBLZXk6IHByb2Nlc3MuZW52LlJJTkdDRU5UUkFMX0NMSUVOVF9JRCwKICBhcHBTZWNyZXQ6IHByb2Nlc3MuZW52LlJJTkdDRU5UUkFMX0NMSUVOVF9TRUNSRVQKfSkKCmNvbnN0IHBsYXRmb3JtID0gcmNzZGsucGxhdGZvcm0oKQoKcGxhdGZvcm0ubG9naW4oewogIHVzZXJuYW1lOiBwcm9jZXNzLmVudi5SSU5HQ0VOVFJBTF9VU0VSTkFNRSwKICBleHRlbnNpb246IHByb2Nlc3MuZW52LlJJTkdDRU5UUkFMX0VYVEVOU0lPTiwKICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuUklOR0NFTlRSQUxfUEFTU1dPUkQKfSkudGhlbihyZXNwb25zZSA9PiB7CiAgdmFyIHN1YnNjcmlwdGlvbiA9IHJjc2RrLmNyZWF0ZVN1YnNjcmlwdGlvbigpCiAgdmFyIGV2ZW50RmlsdGVycyA9IFsKICAgICcvYWNjb3VudC9+L2V4dGVuc2lvbi9+L21lc3NhZ2Utc3RvcmUvaW5zdGFudD90eXBlPVNNUycsCiAgICAnL2FjY291bnQvfi9leHRlbnNpb24vfi92b2ljZW1haWwnCiAgXQogIHN1YnNjcmlwdGlvbgogICAgLnNldEV2ZW50RmlsdGVycyhldmVudEZpbHRlcnMpCiAgICAucmVnaXN0ZXIoKQogICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICBjb25zb2xlLmxvZygiV2FpdGluZyBmb3Igbm90aWZpY2F0aW9ucyAuLi4iKQogICAgfSkKCiAgc3Vic2NyaXB0aW9uLm9uKHN1YnNjcmlwdGlvbi5ldmVudHMubm90aWZpY2F0aW9uLCBmdW5jdGlvbihtc2cpewogICAgaWYgKG1zZy5ldmVudC5pbmRleE9mKCcvbWVzc2FnZS1zdG9yZS9pbnN0YW50JykgPiAtMSkgewogICAgICBjb25zb2xlLmxvZygiUmVjZWl2ZWQgbWVzc2FnZTogIiArIG1zZy5ib2R5LnN1YmplY3QpCiAgICAgIHZhciBtZXNzYWdlID0gJ1RoaXMgaXMgYW4gYXV0b21hdGljIHJlcGx5LiBUaGFuayB5b3UgZm9yIHlvdXIgbWVzc2FnZSEnCiAgICAgIHNlbmRSZXBseVNNUyhtZXNzYWdlLCBtc2cuYm9keS5mcm9tLnBob25lTnVtYmVyKQogICAgfWVsc2UgaWYgKG1zZy5ldmVudC5pbmRleE9mKCcvdm9pY2VtYWlsJykgPiAtMSkgewogICAgICBpZiAobXNnLmJvZHkuZnJvbS5oYXNPd25Qcm9wZXJ0eSgicGhvbmVOdW1iZXIiKSl7CiAgICAgICAgY29uc29sZS5sb2coIlJlY2VpdmVkIGEgdm9pY2VtYWlsIGZyb206ICIgKyBtc2cuYm9keS5mcm9tLnBob25lTnVtYmVyKQogICAgICAgIHZhciBtZXNzYWdlID0gJ1RoaXMgaXMgYW4gYXV0b21hdGljIHJlcGx5LiBUaGFuayB5b3UgZm9yIHlvdXIgdm9pY2UgbWVzc2FnZSEgSSB3aWxsIGdldCBiYWNrIHRvIHlvdSBhc2FwLicKICAgICAgICBzZW5kUmVwbHlTTVMobWVzc2FnZSwgbXNnLmJvZHkuZnJvbS5waG9uZU51bWJlcikKICAgICAgfQogICAgfWVsc2UgewogICAgICBjb25zb2xlLmxvZygiTm90IGFuIGV2ZW50IHdlIGFyZSB3YWl0aW5nIGZvci4iKQogICAgfQogIH0pCn0pLmNhdGNoKGUgPT4gewogIGNvbnNvbGUuZXJyb3IoZSkKfSkKCmZ1bmN0aW9uIHNlbmRSZXBseVNNUyhtZXNzYWdlLCByZWNpcGllbnROdW1iZXIpewogIHBsYXRmb3JtLnBvc3QoJy9hY2NvdW50L34vZXh0ZW5zaW9uL34vc21zJywgewogICAgZnJvbTogeyBwaG9uZU51bWJlcjogcHJvY2Vzcy5lbnYuUklOR0NFTlRSQUxfVVNFUk5BTUUgfSwKICAgIHRvOiBbCiAgICAgIHsgcGhvbmVOdW1iZXI6IHJlY2lwaWVudE51bWJlciB9CiAgICBdLAogICAgdGV4dDogbWVzc2FnZQogIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgY29uc29sZS5sb2coJ1JlcGxpZWQgbWVzc2FnZSBzZW50LicpCiAgfSkuY2F0Y2goZSA9PiB7CiAgICBjb25zb2xlLmVycm9yKGUpCiAgfSkKfQo=</textarea>
</div>
</div><div class="saurus-overview"><ul></ul></div></div><div class="saurus-code"><div class="file-path"><span class="crumb-container"></span><i class="fa fa-fw fa-folder"></i></div><div class="saurus-editor"></div></div><div class="saurus-explorer"><div class="saurus-file-list"></div><div class="saurus-file-actions"><a href="https://github.com/ringcentral-tutorials/sms-api-nodejs-demo" target="_blank" class="explorer-get-code"><i class="fa fa-lg fa-github-square"></i>View Code on GitHub</a><a href="https://github.com/ringcentral-tutorials/sms-api-nodejs-demo/archive/master.zip" target="_blank" class="explorer-get-code"><i class="fa fa-lg icon-download"></i>Download Source Code</a></div></div></div></div><footer><div class="footer-content"><div class="footer-content-row layout-2-cols"><div class="footer-content-row-left"><div class="footer-logo"><a href="http://www.ringcentral.com"><span>Back to the main site</span></a></div></div><div class="footer-content-row-right"><ul class="footer-text-links"><li><a href="http://www.ringcentral.com/legal.html" target="_blank"><span>Legal</span></a></li><li><a href="http://www.ringcentral.com/security-statement.html" target="_blank"><span>Security Policy</span></a></li><li><a href="http://www.ringcentral.com/legal/privacy-policy.html" target="_blank"><span>Privacy Policy</span></a></li><li><a ng-href="https://devcommunity.ringcentral.com" target="_blank" href="https://devcommunity.ringcentral.com"><span>Community</span></a></li><li><a href="https://medium.com/ringcentral-developers" target="_blank"><span>Blog</span></a></li></ul></div></div><div class="footer-content-row footer-content-row-last layout-2-cols"><div class="footer-content-row-left"><span class="footer-copyright">Â© 1999-<span ng-bind="::main.nowObj|date:'yyyy'" class="footer-copyright-to ng-binding">2017</span> RingCentral, Inc. All rights reserved.</span></div><div class="footer-content-row-right"><div class="footer-image-links"><div class="footer-image-link footer-image-link-facebook"><a target="_blank" href="http://www.facebook.com/ringcentral"><i class="fa icon-facebook"></i></a></div><div class="footer-image-link footer-image-link-twitter"><a target="_blank" href="http://twitter.com/ringcentraldevs"><i class="fa icon-twitter"></i></a></div><div class="footer-image-link footer-image-link-google-plus"><a target="_blank" href="https://www.google.com/+ringcentral"><i class="fa icon-google_plus"></i></a></div><div class="footer-image-link footer-image-link-linkedin"><a target="_blank" href="http://www.linkedin.com/company/ringcentral"><i class="fa icon-linkedin"></i></a></div><div class="footer-image-link footer-image-link-youtube"><a target="_blank" href="http://www.youtube.com/ringcentral"><i class="fa icon-youtube"></i></a></div></div></div></div></div></footer></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script><script src="ace/ace.js"></script><script src="ace/theme-monokai.js"></script><script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script><script>window.tutorialName="SMS API Node JS Tutorial";</script><script src="viewsaurus.js"></script></body></html>